<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFrameworks>net5.0;netcoreapp3.1;net472</TargetFrameworks>
    <OutputType>Exe</OutputType>
    <Platforms>x64;x86;AnyCPU</Platforms>
    <RuntimeIdentifiers>win10-x64;win10-x86;win7-x64;win7-x86</RuntimeIdentifiers>
  </PropertyGroup>

  <ItemGroup Condition="$(TargetFramework.StartsWith('net4'))">
    <ProjectReference Include="..\devsko.LayoutAnalyzer.Host.net4\devsko.LayoutAnalyzer.Host.net4.csproj" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="..\devsko.LayoutAnalyzer\devsko.LayoutAnalyzer.csproj" />
    <PackageReference Include="Ben.Demystifier" Version="0.3.0" />
  </ItemGroup>
 
  <Target Name="_IsValid" BeforeTargets="Build">
    <Error Condition="'$(Platform)' == 'AnyCPU'"
           Text="Build LayoutAnalyzer.Test instead" />
  </Target>
  
</Project>
